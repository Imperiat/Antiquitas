namespace = senate_objective_roman

senate_objective_roman.1 = { # Declare War - Optimates
    type = country_event
    title = senate_objective_roman.1.t
    desc = senate_objective_roman.1.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:optimates_party_leader

    trigger = {
    	any_character = {
            employer = root
            prisoner = no
    		party_type = optimates_party
    		is_ruler = no
    	}
    }

    immediate = {
        set_variable = force_agenda_active
    	if = {
    		limit = {
    			current_ruler = {
    				NOT = { is_leader_of_party_type = optimates_party }
    			}
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = optimates_party
                }
    		}
    		random_character = {
	    		limit = {
                    employer = root
	    			is_leader_of_party_type = optimates_party
                    prisoner = no
	    		}
	    		save_scope_as = optimates_party_leader
	    	}
    	}
    	else_if = {
    		limit = {
    			current_ruler = {
    				is_leader_of_party_type = optimates_party
    			}
    			any_character = {
                    employer = root
                    prisoner = no
    				is_ruler = no
    				party_type = optimates_party
    			}
    		}
    		random_character = {
    			limit = {
                    employer = root
                    prisoner = no
    				is_ruler = no
    				party_type = optimates_party
    			}
    			save_scope_As = optimates_party_leader
    		}
    	}
    }

    option = {      
        name = senate_objective_roman.1.a
        declare_war_with_wargoal = {
            war_goal = raiding_wargoal
            target = scope:sen_obj_dec_war_target
        }
        random_current_war = {
            limit = {
                any_war_defender = { this = scope:sen_obj_dec_war_target }
            }
            save_scope_as = rom_sen_obj_war
        }
        if = {
            limit = {
                any_subject = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                    has_subject_loyalty >= 33
                }
            }
            every_subject = {
                limit = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                    has_subject_loyalty >= 33
                }
                add_to_war = {
                    target = scope:rom_sen_obj_war
                    attacker = yes
                }
            }
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = optimates_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 50 }
    }
    option = {      
        name = senate_objective_roman.1.b
		if = {
			limit = { is_ai = no }
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = optimates_party
				VALUE = senatorial_veto_approval_svalue
			}
		}
		else = {
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = optimates_party
				VALUE = senatorial_veto_other_approval_svalue
			}
		}
        ai_chance = { factor = 50 }
    }

    after = {
        set_variable = optimates_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.2 = { # Grant Holdings - Optimates
    type = country_event
    title = senate_objective_roman.2.t
    desc = senate_objective_roman.2.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:holding_character

    trigger = {
        any_character = {
            employer = root
            is_head_of_family = yes
            is_ruler = no
            prisoner = no
        }
        possible_holdings >= senate_agenda_grant_holding_optimes_event_svalue
    }

    immediate = {
        set_variable = force_agenda_active
        random_character = {
            limit = {
                employer = root
                is_head_of_family = yes
                is_ruler = no
                prisoner = no
            }
            weight = {
                modifier = {
                    factor = 0.3
                    NOT = {
                        party_type = optimates_party
                    }
                }
            }
            save_scope_as = holding_character
        }
    }

    option = {      
        name = senate_objective_roman.2.a
        custom_tooltip = senate_objective_roman.2.a.tt
        hidden_effect = {
            while = {
                count = senate_agenda_grant_holding_optimes_event_svalue
                random_owned_province = {
                    limit = {
                        NOT = { exists = holding_owner }
                    }
                    scope:holding_character = {
                        add_holding = PREV
                    }
                }
            }
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = optimates_party
            VALUE = senate_agenda_passed_large_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.2.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = optimates_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = optimates_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.3 = { # Change Law - Optimates
    type = country_event
    title = senate_objective_roman.3.t
    desc = senate_objective_roman.3.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:optimates_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = optimates_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = optimates_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = optimates_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = optimates_party
                }
                save_scope_as = optimates_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = optimates_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = optimates_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = optimates_party
                }
                save_scope_As = optimates_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.3.a
        set_variable = {
            name = party_law_change_cooldown
            days = 7300 # 20 years
            value = root.var:sen_obj_cha_law_target_optimates
        }
        if = {
            limit = {
                has_variable = sen_obj_cha_law_target_optimates
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_optimates = 1
                }
                change_law = testamentum_militis
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_optimates = 2
                }
                change_law = senatus_consultum_ultimum
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_optimates = 3
                }
                change_law = lex_calpurnia
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_optimates = 4
                }
                change_law = lex_caecilia
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_optimates = 5
                }
                change_law = lex_domitia_de_sacerdotiis
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_optimates = 6
                }
                change_law = lex_papia
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_optimates = 7
                }
                change_law = lex_aelia_sentia
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_optimates = 8
                }
                change_law = cassian_reform
            }
            approval_with_custom_tooltip_effect = {
                CUSTOM_TOOLTIP = senate_agenda_passed_tt
                PARTY = optimates_party
                VALUE = senate_agenda_passed_medium_svalue
            }
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.3.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = optimates_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = optimates_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.4 = { # Change Law - Populares
    type = country_event
    title = senate_objective_roman.4.t
    desc = senate_objective_roman.4.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:populares_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = populares_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = populares_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = populares_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = populares_party
                }
                save_scope_as = populares_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = populares_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = populares_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = populares_party
                }
                save_scope_As = populares_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.4.a
        set_variable = {
            name = party_law_change_cooldown
            days = 7300 # 20 years
            value = root.var:sen_obj_cha_law_target_populares
        }
        if =  {
            limit = {
                has_variable = sen_obj_cha_law_target_populares
            }
            # Military Reforms #
            if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 1
                }
                change_law = testamentum_militis
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 2
                }
                change_law = lex_porcia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 3
                }
                change_law = punic_reforms
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 4
                }
                change_law = marian_reforms
            }
            # Election Reforms #
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 5
                }
                change_law = leges_genuciae
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 6
                }
                change_law = senatus_consultum_ultimum
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 7    
                }
                change_law = lex_antonia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 8
                }
                change_law = princeps_civitatis
            }
            # Assembly Endorsement #
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 9
                }
                change_law = lex_acilia_repetundarum
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 10
                }
                change_law = lex_cassia_de_senatu
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 11
                }
                change_law = no_laws_on_corruption
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 12
                }
                change_law = lex_calpurnia
            }
            # Maritime Laws #
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 13
                }
                change_law = lex_terentia_cassia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 14
                }
                change_law = lex_gabinia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 16
                }
                change_law = lex_claudia
            }
            # Religious Laws #
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 17
                }
                change_law = grant_religious_freedoms
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 18
                }
                change_law = lex_ogulnia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 19
                }
                change_law = lex_aelia_et_fufia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 20
                }
                change_law = lex_domitia_de_sacerdotiis
            }
            # Integration Laws #
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 21
                }
                change_law = lex_canuleia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 22
                }
                change_law = lex_papia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 23
                }
                change_law = lex_licinia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 24
                }
                change_law = lex_hortensia
            }
            # Citizenship Laws #
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 25
                }
                change_law = lex_aelia_sentia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 26
                }
                change_law = lex_fufia_caninia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 27
                }
                change_law = lex_plautia_papiria
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 28
                }
                change_law = lex_aelia_sentia
            }
            # Land Reforms #
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 29
                }
                change_law = cassian_reform
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 30
                }
                change_law = lex_servilia_glaucia
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 31
                }
                change_law = lex_sempronia_agraria
            }
            else_if =  {
                limit = {
                    var:sen_obj_cha_law_target_populares = 32
                }
                change_law = gracchus_reforms
            }
            approval_with_custom_tooltip_effect = {
                CUSTOM_TOOLTIP = senate_agenda_passed_tt
                PARTY = populares_party
                VALUE = senate_agenda_passed_medium_svalue
            }
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.4.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = populares_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = populares_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.5 = { # Revoke Holdings - Populares
    type = country_event
    title = senate_objective_roman.5.t
    desc = senate_objective_roman.5.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:holding_character

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            is_head_of_family = yes
            is_ruler = no
            num_holdings_owned >= senate_agenda_revoke_holding_populares_event_svalue
        }
    }

    immediate = {
        set_variable = force_agenda_active
        random_character = {
            limit = {
                employer = root
                prisoner = no
                is_head_of_family = yes
                is_ruler = no
                num_holdings_owned >= senate_agenda_revoke_holding_populares_event_svalue
            }
            weight = {
                modifier = {
                    factor = this.num_holdings_owned
                }
            }
            save_scope_as = holding_character
        }
    }

    option = {      
        name = senate_objective_roman.5.a
        custom_tooltip = senate_objective_roman.5.a.tt
        hidden_effect = {
            while = {
                count = senate_agenda_revoke_holding_populares_event_svalue
                scope:holding_character = {
                    random_holdings = {
                        holding_owner = { remove_holding = PREV }
                    }
                }
            }
        }
        scope:holding_character = {
            add_loyalty = loyalty_revoke_holding_agenda
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = populares_party
            VALUE = senate_agenda_passed_large_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.5.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = populares_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = populares_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.6 = { # Grant Holdings - Populares
    type = country_event
    title = senate_objective_roman.6.t
    desc = senate_objective_roman.6.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:holding_character

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            is_minor_character = yes
        }
        possible_holdings >= senate_agenda_grant_holding_populares_event_svalue
    }

    immediate = {
        set_variable = force_agenda_active
        random_character = {
            limit = {
                employer = root
                prisoner = no
                is_minor_character = yes
            }
            weight = {
                modifier = {
                    factor = {
                        value = this.popularity
                        divide = 10
                    }
                }
                modifier = {
                    factor = {
                        value = 10
                        subtract = {
                            value = -0.2
                            multiply = this.num_holdings_owned
                        }
                    }
                }
            }
            save_scope_as = holding_character
        }
    }

    option = {      
        name = senate_objective_roman.6.a
        custom_tooltip = senate_objective_roman.6.a.tt
        hidden_effect = {
            while = {
                count = senate_agenda_grant_holding_populares_event_svalue
                random_owned_province = {
                    limit = {
                        NOT = { exists = holding_owner }
                    }
                    scope:holding_character = {
                        add_holding = PREV
                    }
                }
            }
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = populares_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.6.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = populares_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = populares_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.7 = { # Imprison Head - Populares
    type = country_event
    title = senate_objective_roman.7.t
    desc = senate_objective_roman.7.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:senate_objective_prisoner_character

    trigger = {
		is_ai = no
        scope:senate_objective_prisoner_character = {
            is_alive = yes
            home_country = root
        }
    }

    immediate = {
        set_variable = force_agenda_active
    }

    option = {      
        name = senate_objective_roman.7.a
        imprison = {
            target = scope:senate_objective_prisoner_character
        }
        custom_tooltip = senate_objective_roman.7.a.tt
        hidden_effect = {
            scope:senate_objective_prisoner_character.family = {
                every_family_member = {
                    add_loyalty = loyalty_imprison_head_agenda
                }
            }
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = populares_party
            VALUE = senate_agenda_passed_large_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.7.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = populares_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = populares_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.8 = { # Declare War - Populares
    type = country_event
    title = senate_objective_roman.8.t
    desc = senate_objective_roman.8.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:populares_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = populares_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = populares_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = populares_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = populares_party
                }
                save_scope_as = populares_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = populares_party
                }
                any_character = {
                    employer = root
                    is_ruler = no
                    prisoner = no
                    party_type = populares_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = populares_party
                }
                save_scope_As = populares_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.8.a
        declare_war_with_wargoal = {
            war_goal = raiding_wargoal
            target = scope:sen_obj_dec_war_target
        }
        random_current_war = {
            limit = {
                any_war_defender = { this = scope:sen_obj_dec_war_target }
            }
            save_scope_as = rom_sen_obj_war
        }
        if = {
            limit = {
                any_subject = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                }
            }
            every_subject = {
                limit = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                }
                add_to_war = {
                    target = scope:rom_sen_obj_war
                    attacker = yes
                }
            }
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = populares_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 50 }
    }
    option = {      
        name = senate_objective_roman.8.b
		if = {
			limit = { is_ai = no }
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = populares_party
				VALUE = senatorial_veto_approval_svalue
			}
		}
		else = {
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = populares_party
				VALUE = senatorial_veto_other_approval_svalue
			}
		}
        ai_chance = { factor = 50 }
    }

    after = {
        set_variable = populares_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.9 = { # Build Buildings - Boni
    type = country_event
    title = senate_objective_roman.9.t
    desc = senate_objective_roman.9.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:boni_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = boni_party
            is_ruler = no
        }
        scope:senate_objective_build_buildings_target = { has_construction = no }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = boni_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
                save_scope_as = boni_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = boni_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
                save_scope_As = boni_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.9.a
        add_treasury = -150
        scope:senate_objective_build_buildings_target = {
            add_building_level = library_building
            add_building_level = commerce_building
			add_building_level = commerce_building
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = boni_party
            VALUE = senate_agenda_passed_large_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.9.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = boni_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = boni_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.10 = { # State Investment - Boni
    type = country_event
    title = senate_objective_roman.10.t
    desc = senate_objective_roman.10.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:boni_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = boni_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = boni_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
                save_scope_as = boni_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = boni_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
                save_scope_As = boni_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.10.a
        add_political_influence = -80
        if = {
            limit = {
                has_variable = senate_objective_state_investment_type
                var:senate_objective_state_investment_type = 1
            }
            scope:senate_objective_state_investment_target.state = {
                add_state_modifier = {
                    name = state_improvement_military
                    duration = -1
                    mode = add
                }
            }
        }
        else_if = {
            limit = {
                has_variable = senate_objective_state_investment_type
                var:senate_objective_state_investment_type = 2
            }
            scope:senate_objective_state_investment_target.state = {
                add_state_modifier = {
                    name = state_improvement_civic
                    duration = -1
                    mode = add
                }
            }
        }
        else_if = {
            limit = {
                has_variable = senate_objective_state_investment_type
                var:senate_objective_state_investment_type = 3
            }
            scope:senate_objective_state_investment_target.state = {
                add_state_modifier = {
                    name = state_improvement_oratory
                    duration = -1
                    mode = add
                }
            }
        }
        else_if = {
            limit = {
                has_variable = senate_objective_state_investment_type
                var:senate_objective_state_investment_type = 4
            }
            scope:senate_objective_state_investment_target.state = {
                add_state_modifier = {
                    name = state_improvement_religious
                    duration = -1
                    mode = add
                }
            }
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = boni_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.10.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = boni_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = boni_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.11 = { # Stability - Boni
    type = country_event
    title = senate_objective_roman.11.t
    desc = senate_objective_roman.11.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:boni_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = boni_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = boni_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
                save_scope_as = boni_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = boni_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
                save_scope_As = boni_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.11.a
        pay_price = stability
        add_country_modifier = {
            name = stability_investment
            duration = 1825
            mode = add
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = boni_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.11.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = boni_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = boni_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.12 = { # Reduce Tyranny - Boni
    type = country_event
    title = senate_objective_roman.12.t
    desc = senate_objective_roman.12.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:boni_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = boni_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = boni_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
                save_scope_as = boni_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = boni_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
                save_scope_As = boni_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.12.a
        add_tyranny = subtract_tyranny_large
        add_political_influence = -30
        current_ruler = {
            add_popularity = subtract_popularity_huge
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = boni_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.12.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = boni_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = boni_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.13 = { # Change Law - Boni
    type = country_event
    title = senate_objective_roman.13.t
    desc = senate_objective_roman.13.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:boni_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = boni_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = boni_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
                save_scope_as = boni_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = boni_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
                save_scope_As = boni_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.13.a
        set_variable = {
            name = party_law_change_cooldown
            days = 7300 # 20 years
            value = root.var:sen_obj_cha_law_target_boni
        }
        if = {
            # Military Reforms
            limit = {
                has_variable = sen_obj_cha_law_target_boni
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 1
                }
                change_law = lex_porcia
            }
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 2
                }
                change_law = punic_reforms
            }
            # Election Reforms
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 3
                }
                change_law = leges_genuciae
            }
            # Assembly Endorsements
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 4
                }
                change_law = no_laws_on_corruption
            }
            # Maritime laws
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 5
                }
                change_law = lex_claudia
            }
            # Religious Laws
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 6
                }
                change_law = lex_ogulnia
            }
            # Integration Laws
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 7
                }
                change_law = lex_hortensia
            }
            # Citizenship Laws
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 8
                }
                change_law = lex_fufia_caninia
            }
            # Land Reforms
            if = {
                limit = {
                    var:sen_obj_cha_law_target_boni = 9
                }
                change_law = lex_servilia_glaucia
            }
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = boni_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.13.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = boni_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = boni_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.14 = { # Revoke Office - Optimates
    type = country_event
    title = senate_objective_roman.14.t
    desc = senate_objective_roman.14.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:optimates_party_leader
    right_portrait = scope:revoke_character_optimates

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = optimates_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = optimates_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = optimates_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = optimates_party
                }
                save_scope_as = optimates_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = optimates_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = optimates_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = optimates_party
                }
                save_scope_As = optimates_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.14.a
        if = {
            limit = {
                has_variable = senate_objective_revoke_office_optimates_type
                var:senate_objective_revoke_office_optimates_type = 1
                exists = scope:revoke_character_optimates
                scope:revoke_character_optimates = {
                    is_general = yes
                }
            }
            scope:revoke_character_optimates = {
                remove_command = yes
            }
        }
        else_if = {
            limit = {
                has_variable = senate_objective_revoke_office_optimates_type
                var:senate_objective_revoke_office_optimates_type = 2
                exists = scope:revoke_character_optimates
                scope:revoke_character_optimates = {
                    is_governor = yes
                }
            }
            scope:revoke_character_optimates = {
                remove_as_governor = yes
            }
        }
        scope:revoke_character_optimates = {
            add_loyalty = loyalty_revoke_office_agenda
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = optimates_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.14.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = optimates_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = optimates_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.15 = { # Appoint Office - Optimates
    type = country_event
    title = senate_objective_roman.15.t
    desc = senate_objective_roman.15.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:appointment_target

    immediate = {
        set_variable = force_agenda_active
        appointment_office_skill_effect = yes
    }

    option = {      
        name = senate_objective_roman.15.a
        if = {
            limit = {
                any_governorships = {
                    NOT = {
                        any_governorship_state = {
                            any_state_province = { this = root.capital_scope }
                        }
                    }
                    trigger_if = {
                        limit = { 
                            any_governorship_state = { has_governor = yes }
                        }
                        NOT = { governor.character_party = scope:senate_objective_roman_appoint_office_optimates }
                    }
                }
            }
            random_governorships = {
                limit = {
                    NOT = {
                        any_governorship_state = {
                            any_state_province = { this = root.capital_scope }
                        }
                    }
                    trigger_if = {
                        limit = { 
                            any_governorship_state = { has_governor = yes }
                        }
                        NOT = { governor.character_party = scope:senate_objective_roman_appoint_office_optimates }
                    }
                }
                if = {
                    limit = { 
                        any_governorship_state = { has_governor = yes }
                    }
                    governor = { save_scope_as = replaced_appointment_target } 
                    scope:replaced_appointment_target = { add_loyalty = loyalty_appointment_revoked_agenda }
                }
                hidden_effect = {
                    scope:appointment_target = { remove_all_positions = yes }
                }
                random_governorship_state = {
                    random_state_province = { set_as_governor = scope:appointment_target }
                }
            }
        }
        else = {
            hidden_effect = {
                scope:appointment_target = { remove_all_positions = yes }
            }
            senate_objective_appoint_member_generic_effect = yes
        }
        scope:appointment_target = { add_loyalty = loyalty_appointment_granted_agenda }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = optimates_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.15.b
        current_ruler = { add_popularity = subtract_popularity_large }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = optimates_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        scope:appointment_target = { remove_variable = appointment_office_skill }
        set_variable = optimates_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.16 = { # Revoke Office - Populares
    type = country_event
    title = senate_objective_roman.16.t
    desc = senate_objective_roman.16.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:populares_party_leader
    right_portrait = scope:revoke_character_populares

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = populares_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = populares_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = populares_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = populares_party
                }
                save_scope_as = populares_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = populares_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = populares_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = populares_party
                }
                save_scope_As = populares_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.16.a
        if = {
            limit = {
                has_variable = senate_objective_revoke_office_populares_type
                var:senate_objective_revoke_office_populares_type = 1
                exists = scope:revoke_character_populares
                scope:revoke_character_populares = {
                    is_general = yes
                }
            }
            scope:revoke_character_populares = {
                remove_command = yes
            }
        }
        else_if = {
            limit = {
                has_variable = senate_objective_revoke_office_populares_type
                var:senate_objective_revoke_office_populares_type = 2
                exists = scope:revoke_character_populares
                scope:revoke_character_populares = {
                    is_governor = yes
                }
            }
            scope:revoke_character_populares = {
                remove_as_governor = yes
            }
        }
        scope:revoke_character_populares = {
            add_loyalty = loyalty_revoke_office_agenda
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = populares_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.16.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = populares_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = populares_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.17 = { # Appoint Office - Populares
    type = country_event
    title = senate_objective_roman.17.t
    desc = senate_objective_roman.17.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:appointment_target

    immediate = {
        set_variable = force_agenda_active
        appointment_office_skill_effect = yes
    }

    option = {      
        name = senate_objective_roman.17.a
        if = {
            limit = {
                any_governorships = {
                    NOT = {
                        any_governorship_state = {
                            any_state_province = { this = root.capital_scope }
                        }
                    }
                    trigger_if = {
                        limit = { 
                            any_governorship_state = { has_governor = yes }
                        }
                        NOT = { governor.character_party = scope:senate_objective_roman_appoint_office_populares }
                    }
                }
            }
            random_governorships = {
                limit = {
                    NOT = {
                        any_governorship_state = {
                            any_state_province = { this = root.capital_scope }
                        }
                    }
                    trigger_if = {
                        limit = { 
                            any_governorship_state = { has_governor = yes }
                        }
                        NOT = { governor.character_party = scope:senate_objective_roman_appoint_office_populares }
                    }
                }
                if = {
                    limit = { 
                        any_governorship_state = { has_governor = yes }
                    }
                    governor = { save_scope_as = replaced_appointment_target } 
                    scope:replaced_appointment_target = { add_loyalty = loyalty_appointment_revoked_agenda }
                }
                hidden_effect = {
                    scope:appointment_target = { remove_all_positions = yes }
                }
                random_governorship_state = {
                    random_state_province = { set_as_governor = scope:appointment_target }
                }
            }
        }
        else = {
            hidden_effect = {
                scope:appointment_target = { remove_all_positions = yes }
            }
            senate_objective_appoint_member_generic_effect = yes
        }
        scope:appointment_target = { add_loyalty = loyalty_appointment_granted_agenda }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = populares_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.17.b
        current_ruler = { add_popularity = subtract_popularity_large }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = populares_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        scope:appointment_target = { remove_variable = appointment_office_skill }
        set_variable = populares_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.18 = { # Removing Citizenship Rights - Optimates
    type = country_event
    title = senate_objective_roman.18.t
    desc = senate_objective_roman.18.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:optimates_party_leader

    trigger = {
		is_ai = no
        any_character = {
            employer = root
            prisoner = no
            party_type = optimates_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = optimates_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = optimates_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = optimates_party
                }
                save_scope_as = optimates_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = optimates_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = optimates_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = optimates_party
                }
                save_scope_As = optimates_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.18.a
        scope:citizenship_culture_target = {
            set_country_culture_right = freemen
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = optimates_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.18.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = optimates_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = optimates_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.19 = { # Increasing Citizenship Rights - Boni
    type = country_event
    title = senate_objective_roman.19.t
    desc = senate_objective_roman.19.desc
    picture = senate_debate
    
    left_portrait = current_ruler
    right_portrait = scope:boni_party_leader

    trigger = {
        any_character = {
            employer = root
            prisoner = no
            party_type = boni_party
            is_ruler = no
        }
    }

    immediate = {
        set_variable = force_agenda_active
        if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = boni_party }
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_leader_of_party_type = boni_party
                }
                save_scope_as = boni_party_leader
            }
        }
        else_if = {
            limit = {
                current_ruler = {
                    is_leader_of_party_type = boni_party
                }
                any_character = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
            }
            random_character = {
                limit = {
                    employer = root
                    prisoner = no
                    is_ruler = no
                    party_type = boni_party
                }
                save_scope_As = boni_party_leader
            }
        }
    }

    option = {      
        name = senate_objective_roman.19.a
        scope:citizenship_culture_target = {
            set_country_culture_right = citizen
        }
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senate_agenda_passed_tt
            PARTY = boni_party
            VALUE = senate_agenda_passed_medium_svalue
        }

        ai_chance = { factor = 90 }
    }
    option = {      
        name = senate_objective_roman.19.b
        approval_with_custom_tooltip_effect = {
            CUSTOM_TOOLTIP = senatorial_veto_tt
            PARTY = boni_party
            VALUE = senatorial_veto_approval_svalue
        }

        ai_chance = { factor = 10 }
    }

    after = {
        set_variable = boni_agenda_cooldown
        remove_variable = force_agenda_active
    }
}

senate_objective_roman.20 = { # Completed Objective Roman
    type = country_event
    title = "senate_objectives.12.t"
    desc = {
        desc = senate_objectives.12.desc
        first_valid = {
            triggered_desc = {
                desc = senate_objectives.12.desc_1
                trigger = { 
                    scope:party_obj_complete_scope = { is_party_type = optimates_party }
                }
            }
            triggered_desc = {
                desc = senate_objectives.12.desc_2
                trigger = { 
                    scope:party_obj_complete_scope = { is_party_type = populares_party }
                }
            }
            triggered_desc = {
                desc = senate_objectives.12.desc_3
                trigger = { 
                    scope:party_obj_complete_scope = { is_party_type = boni_party }
                }
            }
        }
    }
    picture = council_country
    left_portrait = current_ruler
    right_portrait = scope:objective_politician
    
    immediate = {
        if = {
            limit = {
                scope:party_obj_complete_scope = { is_party_type = optimates_party }
                NOT = { 
                    current_ruler = { is_leader_of_party_type = optimates_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = optimates_party }
                save_scope_as = objective_politician
            }
        }
        else_if = {
            limit = {
                scope:party_obj_complete_scope = { is_party_type = populares_party }
                NOT = { 
                    current_ruler = { is_leader_of_party_type = populares_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = populares_party }
                save_scope_as = objective_politician
            }
        }
        else_if = {
            limit = {
                scope:party_obj_complete_scope = { is_party_type = boni_party }
                NOT = { 
                    current_ruler = { is_leader_of_party_type = boni_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = boni_party }
                save_scope_as = objective_politician
            }
        }
        if = {
            limit = {
                scope:party_obj_complete_scope = { is_party_type = optimates_party }
            }
            set_variable = optimates_agenda_cooldown
        }
        else_if = {
            limit = {
                scope:party_obj_complete_scope = { is_party_type = populares_party }
            }
            set_variable = populares_agenda_cooldown
        }
        else_if = {
            limit = {
                scope:party_obj_complete_scope = { is_party_type = boni_party }
            }
            set_variable = boni_agenda_cooldown
        }
        scope:party_obj_complete_scope = { add_party_approval_roman_completion_effect = yes }
    }
    
    option = { # Ok
        name = "senate_objectives.12.a"
        trigger = {
            exists = current_ruler.character_party
            current_ruler = { party = scope:party_obj_complete_scope }
        }
    }

    option = { # Ok
        name = "senate_objectives.12.b"
        trigger = {
            OR = {
                NOT = { exists = current_ruler.character_party }
                NOT = { current_ruler = { party = scope:party_obj_complete_scope } }
            }
        }
    }
}
